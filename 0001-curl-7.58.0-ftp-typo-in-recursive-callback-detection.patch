From 1b02cb2b51148915b2ba025bb262ef34f369fa4b Mon Sep 17 00:00:00 2001
From: dasimx <g9264140@trbvm.com>
Date: Wed, 14 Mar 2018 11:02:05 +0100
Subject: [PATCH] FTP: fix typo in recursive callback detection for seeking

Fixes #2380

Upstream-commit: 920f73a6906dce87c6ee87c32b109a287189965d
Signed-off-by: Kamil Dudka <kdudka@redhat.com>
---
 lib/ftp.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/ftp.c b/lib/ftp.c
index e2cc38b..0cc583b 100644
--- a/lib/ftp.c
+++ b/lib/ftp.c
@@ -1621,7 +1621,7 @@ static CURLcode ftp_state_ul_setup(struct connectdata *conn,
       Curl_set_in_callback(data, true);
       seekerr = conn->seek_func(conn->seek_client, data->state.resume_from,
                                 SEEK_SET);
-      Curl_set_in_callback(data, true);
+      Curl_set_in_callback(data, false);
     }
 
     if(seekerr != CURL_SEEKFUNC_OK) {
-- 
2.14.3

